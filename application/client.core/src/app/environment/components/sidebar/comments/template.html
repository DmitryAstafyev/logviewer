<div class="actions">
    <button mat-icon-button color="primary" [matMenuTriggerFor]="commentCategoryMenu">
        <mat-icon>filter_list</mat-icon>
    </button>
    <button mat-icon-button color="primary" aria-label="Available Actions" [matMenuTriggerFor]="commentActionsMenu">
        <mat-icon>more_horiz</mat-icon>
    </button>
</div>
<div class="comments" *ngIf="_ng_controller !== undefined">
    <app-sidebar-app-comments-item
        [comment]="comment"
        [controller]="_ng_controller"
        [broadcastEditorUsage]="_ng_broadcastEditorUsage"
        *ngFor="let comment of ngGetComments()">
    </app-sidebar-app-comments-item>
    <div class="hidden" *ngIf="ngGetHiddenComments().length > 0">
        <div *ngFor="let hidden of ngGetHiddenComments()" class="hidden-comment-wrapper">
            <div class="hidden-comment">
                <button 
                    class="hidden-comment"
                    mat-mini-fab color="primary"
                    [ngStyle]="{'background': hidden.color}">
                </button>
                <p>more {{hidden.count}} comment{{hidden.count > 1 ? 's' : ''}}</p>
            </div>
        </div>
    </div>
    <p class="t-small color-scheme-1 info" *ngIf="_ng_comments.length === 0">To create new comment: select some text; call context menu and select "Comment"</p>
</div>

<mat-menu #commentActionsMenu="matMenu" xPosition="before">
    <button mat-menu-item (click)="ngOnRemoveAll()">
        <mat-icon>delete_sweep</mat-icon>
        <span>Remove All</span>
    </button>
</mat-menu>

<mat-menu #commentCategoryMenu="matMenu" xPosition="before">
    <div class="colors-wrapper">
        <button class="comment-color-selector" mat-mini-fab color="primary" aria-label="Category" (click)="ngOnSetFilter(undefined)">
            <mat-icon>remove</mat-icon>
        </button>
        <button *ngFor="let color of _ng_colors"
                class="comment-color-selector"
                mat-mini-fab color="primary"
                (click)="ngOnSetFilter(color)"
                [ngStyle]="{'background': color}">
        </button>
    </div>
</mat-menu>